<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="normal/base :: Layout(~{::section})">

<head>
    <meta charset="UTF-8">
    <title>Your Settings</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    
</head>

<body>
<section class="settingsPageBanar">


<div class="text-center">
<h1 class="">Settings</h1>


<div th:if="${success}" class="alert alert-success" role="alert">
    <span th:text="${success}"></span>
</div>

<div th:if="${error}" class="alert alert-danger" role="alert">
    <span th:text="${error}"></span>
</div>

<!-- Change Password Button -->
<button class="btn btn-warning my-3" data-bs-toggle="modal" data-bs-target="#changePasswordModal">
  Change Password
</button>


<!-- Change Password Modal -->
<div class="modal fade" id="changePasswordModal" tabindex="-1" aria-labelledby="changePasswordModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content shadow-lg rounded-3">
      
      <div class="modal-header bg-warning text-dark">
        <h5 class="modal-title" id="changePasswordModalLabel">Change Password</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      
      <div class="modal-body">
        <form id="changePasswordForm" 	action="/user/doChangePassword" method="post">
        
          <div class="mb-3">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
            </div>
          <div class="mb-3 position-relative">
           
            <input type="password" class="form-control" id="currentPassword" name="currentPassword" placeholder="Current Password" required>
          <i class="bi bi-eye-fill position-absolute top-50 end-0 translate-middle-y me-3" 
       style="cursor: pointer; color:black;" onclick="togglePassword('currentPassword')"></i>
          </div>
          <div class="mb-3 position-relative">
           
            <input type="password" class="form-control" id="newPassword" name="newPassword" placeholder="New Password" required>
             <i class="bi bi-eye-fill position-absolute top-50 end-0 translate-middle-y me-3" 
       style="cursor: pointer; color:black;" onclick="togglePassword('newPassword')"></i>
          </div>
          <div class="mb-3 position-relative">
           <!--   <label for="confirmPassword" class="form-label">Confirm Password</label>-->
            <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" placeholder="Confirm Password" required>
           <i class="bi bi-eye-fill position-absolute top-50 end-0 translate-middle-y me-3" 
       style="cursor: pointer; color:black;" onclick="togglePassword('confirmPassword')"></i>
          </div>
        </form>
      </div>
      
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="submit" form="changePasswordForm" class="btn btn-warning">Update</button>
      </div>
      
    </div>
  </div>
</div>

   </div>

</section>


<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>



</body>
</html>
